# 项目使用文档

## 🎯 项目完成清单

### ✅ 已完成的内容

#### 1. 后端数据库设计
- ✅ 数据库表结构设计（11张表）
- ✅ 外键关系和约束
- ✅ 索引优化
- ✅ 视图创建
- ✅ 测试数据插入

#### 2. 前端应用开发
- ✅ 用户登录和权限管理系统
- ✅ 历史数据查询页面
- ✅ 预算数据查询页面
- ✅ 销售价格查询页面
- ✅ 成本数据查询页面
- ✅ 数据分析对比页面
- ✅ 报表生成和导出功能
- ✅ 数据可视化图表
- ✅ 响应式界面设计

#### 3. 功能模块
- ✅ 多维度数据筛选
- ✅ 预算vs实际对比分析
- ✅ 按国家/产品/时间汇总
- ✅ CSV/Excel导出
- ✅ 数据统计和指标展示
- ✅ 交互式图表

#### 4. 项目文档
- ✅ README.md 使用指南
- ✅ requirements.txt 依赖说明
- ✅ 快速启动脚本
- ✅ 代码注释完整

---

## 📚 演示和答辩准备

### 演示流程建议（10分钟）

#### 第1部分：系统介绍（2分钟）
- 项目背景和目标
- 技术架构（Python + Streamlit + MySQL）
- 主要功能模块

#### 第2部分：功能演示（5分钟）
1. **登录系统**（30秒）
   - 展示不同角色登录
   - 说明权限差异

2. **数据查询**（1分钟）
   - 演示历史数据查询
   - 展示筛选功能

3. **数据分析**（2分钟）
   - 预算vs实际对比
   - 多维度汇总分析
   - 图表可视化

4. **报表生成**（1分钟）
   - 生成综合报表
   - 导出Excel演示

5. **其他功能**（30秒）
   - 快速浏览其他页面

#### 第3部分：技术亮点（2分钟）
- 数据库设计优化（索引、视图）
- 权限管理系统
- 响应式界面
- 代码结构清晰

#### 第4部分：分工说明（1分钟）
每位成员说明自己的贡献

---

## 👥 小组分工建议

### 成员1：项目经理 + 数据库设计
- 项目整体规划
- 数据库表结构设计
- ER图设计
- SQL语句编写

### 成员2：后端开发 + 数据分析
- 数据库连接模块
- 数据查询功能
- 分析算法实现
- 报表生成逻辑

### 成员3：前端开发 + UI设计
- 页面界面设计
- 用户交互实现
- 数据可视化
- 用户体验优化

---

## 🎤 答辩可能的问题及回答

### Q1: 为什么选择Streamlit而不是其他框架？
**答**: Streamlit专为数据应用设计，开发效率高，代码简洁，自动生成美观界面，非常适合数据分析和报表系统。相比Flask需要前后端分离开发，Streamlit可以快速实现原型并投入使用。

### Q2: 数据库设计的特点和优化？
**答**: 
1. 采用规范化设计，减少数据冗余
2. 使用外键约束保证数据完整性
3. 创建复合索引优化查询性能
4. 使用视图简化复杂查询
5. 合理使用CHECK约束保证数据有效性

### Q3: 如何实现权限控制？
**答**: 使用session state存储用户角色和权限列表，在每个功能模块检查permissions，根据权限显示或隐藏功能。简单高效，适合中小型系统。

### Q4: 系统的扩展性如何？
**答**: 
1. 模块化设计，新功能易于添加
2. 数据库操作集中在database.py，易于维护
3. 页面独立，互不影响
4. 配置文件统一管理

### Q5: 如何保证数据安全？
**答**: 
1. 使用参数化查询防止SQL注入
2. 密码虽是明文存储（演示用），生产环境应加密
3. 权限分级控制
4. 数据库连接信息在配置文件中管理

---

## 🔧 部署说明

### 本地部署
```powershell
# 1. 安装依赖
pip install -r requirements.txt

# 2. 配置数据库
# 编辑 config.py

# 3. 运行应用
streamlit run app.py
```

### 如需在服务器部署
可以使用：
- **Streamlit Cloud**（免费）
- **Heroku**
- **AWS/阿里云**
- **Docker容器化**

---

## 📊 数据库关系图

系统包含以下主要表：
- **Country**: 国家/地区信息
- **Model**: 产品型号
- **Sales_Price**: 销售价格
- **Costs**: 成本数据
- **Exchange**: 汇率
- **History**: 历史销售数据
- **Budget**: 预算数据
- **Ratio_Expenses1/2/3**: 费用比率
- **Regional_Expenses**: 区域费用

详细设计见 `逻辑说明.md`

---

## 💡 改进建议（可选讨论）

### 功能扩展
1. 添加数据录入和编辑功能
2. 实现更复杂的预测算法
3. 增加邮件通知功能
4. 移动端适配

### 技术优化
1. 使用Redis缓存提高性能
2. 添加单元测试
3. 实现API接口
4. 使用更安全的认证方式

---

## 📞 联系方式

如有问题，请联系小组成员。

---

**祝答辩顺利！🎉**
